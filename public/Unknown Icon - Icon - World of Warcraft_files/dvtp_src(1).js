(function(){var ErrorTypes={InjectTagError:{id:1,message:"InjectTagError"},LoadTagError:{id:2,message:"LoadTagError"},UnexpectedError:{id:128,message:"UnexpectedError"}},emptyFunction=function(){},dvtpScriptVersion=939,cdnUrl="https://cdn.doubleverify.com/",tagUniqueKey=dvGenerateGuid(),isDomlessEnvironment="undefined"==typeof window||"function"!=typeof window.addEventListener,restrictedAccess=function(){var r,e;if(!isDomlessEnvironment){try{addElementToPage(r=createIframe("about:blank")),e=!getIframeDocument(r)}catch(r){e=!0}try{r&&("function"==typeof r.remove&&r.remove(),r=null)}catch(r){}}return e}(),isCurrentScriptSupported=!(isDomlessEnvironment||!document.currentScript),tagScriptElem=function(){try{var r,e;if(!isDomlessEnvironment&&document){if(isCurrentScriptSupported)return(r=document.currentScript).dvvisit=1,r;if("function"==typeof document.getElementsByTagName){var t=cdnUrl+"dvtp_src.js",n=document.getElementsByTagName("script"),o=0,i=n.length;for(e=!1;o<i;++o)if((r=n[o])&&!r.dvvisit&&r.src&&-1!==r.src.indexOf(t)){r.dvvisit=1,e=!0;break}}if(!e)throw r=null,new Error("dvtp script element did not find");return r}}catch(r){sendDefaultError(r,19,!1)}}(),dvmUrl=[cdnUrl,"dv-measurements",dvtpScriptVersion,".js"].join(""),baseErrorUrl="https://tps.doubleverify.com/visit.jpg?",scriptUrl=!isDomlessEnvironment&&getScriptUrl(),DomlessManagr={loadScript:function loadScript(url,onLoadCB,onErrorCB){onLoadCB=onLoadCB||emptyFunction,onErrorCB=onErrorCB||emptyFunction,"object"==typeof omidNative&&("function"==typeof omidNative.downloadJavaScriptResource?omidNative.downloadJavaScriptResource(url,(function onDownloadDone(javaScript){try{dvWindow=createWindowMock($dv),eval(javaScript),onLoadCB()}catch(r){var len=void 0!==javaScript&&javaScript&&javaScript.length||0;onErrorCB("OnEvalError_ResLen_"+len)}}),(function(){onErrorCB("OnFailedToDownload")})):onErrorCB("DownloadJavaScriptResourceNotExist"))},fire:function(r,e,t){e=e||emptyFunction,t=t||emptyFunction,"object"==typeof omidNative&&"function"==typeof omidNative.sendUrl&&omidNative.sendUrl(r,e,t)}},DomManagr={loadScript:function(r,e,t){var n;if(dvWindow=window,restrictedAccess)return injectJavascriptResourceUrlInDom(r,e,t);addElementToPage(n=createIframe("about:blank")),injectScriptToIframe(n,r)},fire:function(r,e,t){var n=new Image(1,1);n.onerror=t||emptyFunction,n.onload=e||emptyFunction,n.src=r}},Manager=isDomlessEnvironment?DomlessManagr:DomManagr,DVErrorHandling,DVQueryStringParamsExtractor;function dvGetRandom(){for(var r=1,e=Math.floor(10*Math.random())+1,t=0;t<e;++t)r*=Math.random();return r}function dvGenerateGuid(){return(new Date).getTime()*dvGetRandom()}function extractScriptUrlFromScriptElement(){return tagScriptElem&&tagScriptElem.src}function extractCurrentScriptUrl(){return isCurrentScriptSupported&&document.currentScript.src}function getScriptUrl(){return extractCurrentScriptUrl()||extractScriptUrlFromScriptElement()}function createWindowMock(r){var e={location:{protocol:"https:"}},t={getElementById:emptyFunction,createElement:emptyFunction,body:{insertBefore:emptyFunction},querySelectorAll:function(){return[]}};return e.$dv=r,e.parent=e,e.top=e,e.document=t,e}function injectScriptToIframe(r,e){var t=getLoadFailedUrl(),n=getIframeDocument(r),o='<html><head><script type="text/javascript">('+function(){window.$dv=window.parent.$dv,window.$dv.isFrameSupported=!0,window.$frmId=Math.random().toString(36)+Math.random().toString(36)}.toString()+')();<\/script></head><body><script type="text/javascript">('+function r(e,t){var n;function o(){"function"==typeof window.clearTimeout&&RetrayLoader.timerRef&&window.clearTimeout(RetrayLoader.timerRef)}window.RetrayLoader||(window.RetrayLoader={MAX_NUM_OF_TRIES:3,TIMEOUT:400,numOfTries:1,timerRef:null}),e&&((n=document.createElement("script")).src=e,n.onload=function(){window.isDVMLoaded=!0,o()},n.onerror=function(){if(!window.isDVMLoaded){if(n&&"function"==typeof n.remove&&(n.remove(),n=null),"function"!=typeof window.setTimeout||RetrayLoader.MAX_NUM_OF_TRIES===RetrayLoader.numOfTries)return i=t,void(new Image(1,1).src=i);var i;++RetrayLoader.numOfTries,o(),RetrayLoader.timerRef=window.setTimeout((function(){r(e,t)}),RetrayLoader.TIMEOUT)}},document.body.appendChild(n))}.toString()+')("'+e+'", "'+t+'");<\/script></body></html>';if(n)n.open(),n.write(o),n.close();else{var i=encodeURIComponent(o.replace(/'/g,"\\'").replace(/\n|\r\n|\r/g,""));r.src='javascript: (function(){document.open();document.domain="'+window.document.domain+"\";document.write('"+i+"');})()"}}function createIframe(r){var e=Math.floor(1e12*(Math.random()+"")),t=document.createElement("iframe");return t.name=t.id="iframe_"+e,t.setAttribute("data-dv-frm",e),t.width="0",t.height="0",t.style.display="none",t.src=r,t}function addElementToPage(r){if(document.currentScript){var e=document.currentScript.parentNode;e&&"function"==typeof e.insertBefore?e.insertBefore(r,document.currentScript):document.currentScript.appendChild(r)}else if(document.body&&"function"==typeof document.body.insertBefore)document.body.firstChild?document.body.insertBefore(r,document.body.firstChild):document.body.appendChild(r);else{var t=document.getElementsByTagName("head")[0];t&&"function"==typeof document.body.insertBefore&&t.firstChild?t.insertBefore(r,t.firstChild):document.documentElement.appendChild(r)}}function getIframeDocument(r){return r&&(r.contentDocument||r.contentWindow&&r.contentWindow.document||frames&&frames[r.name]&&frames[r.name].document)}function injectJavascriptResourceUrlInDom(r,e,t){var n=document.createElement("script");n.onload=e||emptyFunction,n.onerror=t||emptyFunction,n.src=r,n.type="application/javascript",addElementToPage(n)}function getDefaultErrorUrl(r,e,t){var n=r&&r.message||"error undefined",o=[baseErrorUrl,"ctx=818052&cmp=1619415&dvtagver=6.1.src","&napr=",n,"&cerrt=",e,"&tgjsver=",dvtpScriptVersion,"&jsver=",dvtpScriptVersion];return t&&o.push("&dvp_isLostImp=1"),isDomlessEnvironment&&o.push("&dvp_idle=1"),restrictedAccess&&o.push("&dvp_csp=1"),o.join("")}function sendDefaultError(r,e,t){var n=getDefaultErrorUrl(r,e,t),o=encodeURI(n);Manager&&Manager.fire(o)}isDomlessEnvironment&&Manager&&Manager.fire(getDefaultErrorUrl({message:"DomlessTracker"},262144,!1));try{DVQueryStringParamsExtractor=function(r){var e,t,n,o,i,a={},c={};return(e=r)&&(t=function(r){var e="",t=r.trim().split("?");return 2===t.length&&(e=t[1]),e}(e))&&(i={},t.split("&").forEach((function(r){2===(r=r.trim().split("=")).length&&(i[r[0].trim()]=r[1].trim())})),n=a=i,o={},["cmp","ctx","sid","plc"].forEach((function(r){n.hasOwnProperty(r)&&(o["dvp_"+r]=n[r])})),c=o),{toQueryString:function(r){var e,t="";for(e in r)r.hasOwnProperty(e)&&(t&&(t+="&"),t=[t,e,"=",r[e]].join(""));return t},getQueryStringParams:function(){return a},getQueryStringClientParams:function(){return c}}}(scriptUrl),DVErrorHandling=function(){var r,e="",t="__ERR_MSG_PLACEHOLDR__",n="__CLIENT_ERROR_TYPE_PLACEHOLDR__",o={ctx:818052,cmp:1619415,dvtagver:"6.1.src",tgjsver:dvtpScriptVersion,jsver:dvtpScriptVersion,napr:t,cerrt:n};function i(r,o,i){var a;o=(o=o&&(a=o)&&a.trim().replace(/(\t|\n|\r|\|)/g,""))&&encodeURIComponent(o)||"";var c=e.replace(new RegExp(t,"g"),[r.message,o].join("__"));return c=c.replace(new RegExp(n,"g"),r.id),i&&(c+="&dvp_isLostImp=1"),c}return isDomlessEnvironment&&(o.dvp_idle=1),restrictedAccess&&(o.dvp_csp=1),r=[DVQueryStringParamsExtractor.toQueryString(o),DVQueryStringParamsExtractor.toQueryString(DVQueryStringParamsExtractor.getQueryStringClientParams())].join("&"),e=[baseErrorUrl,r].join(""),{report:function(r,e,t){Manager.fire(i(r,e,t))},getReportUrl:i}}()}catch(r){sendDefaultError(r,ErrorTypes.UnexpectedError,!1)}function generateTagUniqueKey(r,e){for(var t=5;r[e]&&--t;)e=dvGenerateGuid();if(r[e])throw new Error("failed to create tagUniqueKey");return e}function setupTagData(r,e,t,n,o,i){r.tagData=r.tagData||{},e=generateTagUniqueKey(r.tagData,e);var a={};a.dvtpScriptVersion=t,a.dvtpScriptUrl=n,a.restrictedAccess=o,a.$frmId=i,a.tagScriptElem=tagScriptElem,a.tagLoadedMS=(new Date).getTime(),r.tagData[e]=a}function getLoadFailedUrl(r){r=r||"NotFound";var e=ErrorTypes.LoadTagError,t="failedToLoadDVM__"+r;return DVErrorHandling?DVErrorHandling.getReportUrl(e,t,!0):getDefaultErrorUrl(e.id,e.message+"__"+t,!0)}function onLoadFailed(r){var e=getLoadFailedUrl(r);Manager.fire(e)}try{$dv="undefined"!=typeof $dv&&$dv||{tags:{},tagsCounter:0},$frmId=dvGenerateGuid(),$dv.tagsCounter++,$dv.isDomlessEnvironment=isDomlessEnvironment,$dv.sharedUniqueKey=$dv.sharedUniqueKey||dvGenerateGuid(),$dv.restrictedAccess=restrictedAccess,setupTagData($dv,tagUniqueKey,dvtpScriptVersion,scriptUrl,restrictedAccess,$frmId),Manager.loadScript(dvmUrl,emptyFunction,onLoadFailed)}catch(r){var errorType=ErrorTypes.InjectTagError;DVErrorHandling?DVErrorHandling.report(errorType,r.message,!0):sendDefaultError(r,errorType,!0)}})();